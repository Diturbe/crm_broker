{% extends "base.html" %}

{% block title %}Reporte mensual · CRM Broker{% endblock %}

{% block base_extra_css %}
    .card {
        background:white;
        border-radius:10px;
        padding:20px;
        box-shadow:0 2px 6px rgba(0,0,0,0.07);
        margin-bottom:20px;
    }

    .card h3 {
        margin-top:0;
        margin-bottom:10px;
        font-size:16px;
        color:#05386B;
    }

    .form-row {
        display:flex;
        flex-wrap:wrap;
        gap:15px;
    }

    .form-group {
        min-width:140px;
    }

    label {
        font-size:12px;
        display:block;
        margin-bottom:4px;
        color:#495057;
    }

    input, select {
        width:100%;
        padding:6px 8px;
        border-radius:6px;
        border:1px solid #ced4da;
        font-size:13px;
    }

    button {
        margin-top:15px;
        padding:8px 16px;
        border-radius:4px;
        border:none;
        background:#05386B;
        color:#fff;
        font-size:13px;
        cursor:pointer;
    }
{% endblock %}

{% block content %}

<h1>Reportes mensuales</h1>
<p class="subtitle">Generá un PDF con el resumen de pólizas, comisiones e ingresos del mes elegido.</p>

<div class="card">
    <h3>Generar reporte mensual</h3>
    <p style="font-size:12px; color:#6c757d;">
        Seleccioná el mes y año, y el sistema generará un PDF con el detalle de pólizas del período.
    </p>

    <form method="GET" action="{{ url_for('reporte_mensual') }}">
        <div class="form-row">
            <div class="form-group">
                <label for="mes">Mes</label>
                <select id="mes" name="mes" required>
                    {% for m in range(1,13) %}
                        <option value="{{ m }}" {% if m == mes_actual %}selected{% endif %}>
                            {{ "%02d"|format(m) }}
                        </option>
                    {% endfor %}
                </select>
            </div>
            <div class="form-group">
                <label for="anio">Año</label>
                <input type="number" id="anio" name="anio" value="{{ anio_actual }}" required>
            </div>
        </div>
        <button type="submit">Generar reporte PDF</button>
    </form>
</div>

{% endblock %}